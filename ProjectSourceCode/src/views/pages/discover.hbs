{{> message}}

<!-- views/pages/add-restaurant.hbs -->
<div class="container mt-5">
  <div class="card p-4 shadow-sm">
    <h1 class="text-center mb-4">Add a New Restaurant</h1>

    <!-- Search Form -->
    <form id="searchForm" method="GET" action="/search-restaurant">
      <div class="form-group mb-3">
        <label for="searchName" class="form-label">Restaurant Name</label>
        <input type="text" id="searchName" name="name" class="form-control" placeholder="Enter restaurant name" required>
      </div>
      <div class="form-group mb-3">
        <label for="city" class="form-label">City</label>
        <input type="text" id="city" name="city" class="form-control" placeholder="Enter city" required>
      </div>
      <button type="submit" class="btn btn-primary w-100 mb-3">Search for Restaurant</button>
    </form>
  </div>

  <!-- Display Search Results -->
  {{#if restaurants}}
  <div class="card mt-5 shadow-sm p-4">
    <h2 class="text-center mb-4">Search Results</h2>
    <ul class="list-group">
      {{#each restaurants}}
      <li class="list-group-item d-flex align-items-center">
        <div>
          <img src="{{this.image_url}}" alt="{{this.name}}" style="width: 80px; height: auto; border-radius: 8px; margin-right: 15px;">
        </div>
        <div>
          <h5 class="mb-1">{{this.name}}</h5>
          <p class="mb-1">
            {{this.location.address1}}, {{this.location.city}}<br>
            <strong>Yelp Rating:</strong> {{this.rating}}
          </p>
          <!-- Pass restaurant name and city as query parameters to the Add Rating page -->
          <a href="/add-restaurant?name={{this.name}}&city={{this.location.city}}" class="btn btn-outline-primary btn-sm">Add Rating</a>
        </div>
      </li>
      {{/each}}
    </ul>
  </div>
  {{/if}}
</div>
